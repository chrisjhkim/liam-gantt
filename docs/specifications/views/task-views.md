# Task Views Specification
> 태스크 관련 화면 기획서

## 📋 Overview
프로젝트 내 태스크(작업)의 생성, 수정, 삭제, 조회 기능을 담당하는 화면들의 기획 명세입니다.

## 📄 페이지 정의 목록
이 문서에서 정의하는 페이지들의 고유 ID와 설명입니다.

| 페이지 ID | 페이지명 | 설명 |
|-----------|----------|------|
| `PAGE-TASK-001` | 태스크 목록 페이지 | 프로젝트별 태스크 WBS 목록 화면 |
| `PAGE-TASK-002` | 태스크 상세 페이지 | 개별 태스크 상세 정보 화면 |
| `PAGE-TASK-003` | 태스크 생성/수정 페이지 | 태스크 입력 폼 화면 |

---

## 태스크 목록 페이지 {#PAGE-TASK-001}
> 특정 프로젝트에 속한 모든 태스크를 목록으로 보여주는 화면

### 화면 구성 개요
선택한 프로젝트에 등록된 모든 태스크를 계층 구조(WBS)로 보여주는 목록 화면입니다. 태스크를 검색하고 필터링하며, 각 태스크의 진행 상황과 의존성 관계를 한눈에 파악할 수 있습니다.

### 1. 페이지 헤더

#### 1-1. 경로 및 제목
- **페이지 제목**: "[프로젝트명] - 태스크 관리"
- **아이콘**: 태스크 아이콘
- **경로 표시**: 홈 > 프로젝트 관리 > [프로젝트명] > 태스크

#### 1-2. 프로젝트 정보 표시
- **프로젝트명**: 큰 글씨로 표시
- **프로젝트 상태**: 색상 배지로 표시
- **프로젝트로 돌아가기 버튼**: 해당 프로젝트 상세 페이지(`PAGE-PROJECT-003`)로 이동

### 2. 검색 및 필터 도구 모음

#### 2-1. 태스크 검색창
- **위치**: 화면 상단 좌측
- **기능**: 태스크명으로 실시간 검색
- **플레이스홀더**: "태스크명으로 검색"
- **검색 동작**: 입력한 키워드가 포함된 태스크만 필터링

#### 2-2. 상태 필터 드롭다운
- **위치**: 검색창 오른쪽
- **선택 옵션**:
  - "모든 상태" (기본값)
  - "시작 전"
  - "진행 중"
  - "완료"
  - "보류"
  - "취소"
- **동작**: 선택한 상태에 해당하는 태스크만 표시

#### 2-3. 계층 필터 드롭다운
- **위치**: 상태 필터 오른쪽
- **선택 옵션**:
  - "전체 태스크" (기본값)
  - "상위 태스크만"
  - "하위 태스크만"
- **동작**: WBS 계층 구조에 따른 필터링

#### 2-4. 새 태스크 버튼
- **위치**: 도구 모음 우측 끝
- **버튼 텍스트**: "새 태스크 추가"
- **스타일**: 파란색 강조 버튼
- **기능**: 클릭 시 새 태스크 생성 페이지(`PAGE-TASK-003`)로 이동

#### 2-5. 보기 옵션 메뉴
- **위치**: 새 태스크 버튼 옆
- **표시**: 점 3개 메뉴 버튼
- **메뉴 항목**:
  - "간트차트 보기": 해당 프로젝트의 간트차트 페이지(`PAGE-GANTT-001`)로 이동
  - "계층 구조 펼치기": 모든 하위 태스크 표시
  - "계층 구조 접기": 상위 태스크만 표시

### 3. 태스크 목록 테이블

#### 3-1. 테이블 헤더
- **태스크명** (30% 너비): WBS 계층 구조로 표시된 태스크명
- **상태** (12% 너비): 진행 상태 배지
- **진행률** (15% 너비): 진행률 바와 퍼센트
- **시작일** (12% 너비): 태스크 시작 날짜
- **종료일** (12% 너비): 태스크 종료 날짜
- **기간** (8% 너비): 태스크 소요 일수
- **액션** (11% 너비): 작업 버튼들

#### 3-2. WBS 계층 구조 표시

##### 계층 들여쓰기
- **1레벨** (상위 태스크): 들여쓰기 없음
- **2레벨** (하위 태스크): 20px 들여쓰기 + "└" 기호
- **3레벨** (하하위 태스크): 40px 들여쓰기 + "└" 기호
- **4레벨 이상**: 추가로 20px씩 들여쓰기

##### 펼침/접기 기능
- **상위 태스크 앞**에 펼침/접기 화살표 버튼 표시
- **펼쳐진 상태**: 아래쪽 화살표, 하위 태스크들이 보임
- **접힌 상태**: 오른쪽 화살표, 하위 태스크들이 숨겨짐
- **클릭 동작**: 해당 상위 태스크의 하위 태스크들 토글

#### 3-3. 각 태스크 행 구성

##### 태스크명 열
- **펼침/접기 버튼**: 하위 태스크가 있는 경우에만 표시
- **계층 들여쓰기**: WBS 레벨에 따른 시각적 구분
- **태스크명**: 굵은 글씨로 표시
- **의존성 표시**: 선행 태스크가 있는 경우 작은 화살표 아이콘

##### 상태 열
- **배지 형태**로 상태 표시:
  - 시작 전: 회색 배지
  - 진행 중: 파란색 배지
  - 완료: 초록색 배지
  - 보류: 노란색 배지
  - 취소: 빨간색 배지

##### 진행률 열
- **진행률 바**: 가로 막대 형태
  - 0%: 회색
  - 1-49%: 빨간색
  - 50-99%: 노란색
  - 100%: 초록색
- **퍼센트 숫자**: 진행률 바 옆에 표시

##### 날짜 및 기간 열들
- **날짜 형식**: "MM/DD" 형태로 간단 표시
- **기간 표시**: "5일" 형태로 숫자 + "일" 단위

##### 액션 열
3개의 작은 버튼이 가로로 배치:
- **상세 버튼** (눈 아이콘): 해당 태스크 상세 페이지(`PAGE-TASK-002`)로 이동
- **수정 버튼** (연필 아이콘): 해당 태스크 수정 페이지(`PAGE-TASK-003`)로 이동
- **삭제 버튼** (휴지통 아이콘): 삭제 확인 팝업 창 표시

### 4. 빈 상태 화면
프로젝트에 태스크가 하나도 없을 때 표시되는 화면입니다.

#### 4-1. 표시 내용
- **아이콘**: 큰 빈 태스크 아이콘
- **메시지**: "등록된 태스크가 없습니다"
- **안내 텍스트**: "첫 번째 태스크를 추가하여 프로젝트를 시작하세요"

#### 4-2. 액션 버튼
- **첫 태스크 추가하기** (파란색): 새 태스크 생성 페이지(`PAGE-TASK-003`)로 이동
- **프로젝트로 돌아가기** (회색): 해당 프로젝트 상세 페이지(`PAGE-PROJECT-003`)로 이동

### 5. 태스크 삭제 확인 팝업

#### 5-1. 팝업 구성
- **제목**: "태스크 삭제 확인"
- **닫기 버튼**: 우상단 X 버튼

#### 5-2. 하위 태스크가 있는 경우
- **경고 메시지**: "이 태스크에는 X개의 하위 태스크가 있습니다"
- **삭제 옵션**:
  - "하위 태스크와 함께 삭제": 모든 하위 태스크도 함께 삭제
  - "하위 태스크를 상위로 이동": 하위 태스크들을 한 단계 위로 올림

#### 5-3. 하위 태스크가 없는 경우
- **확인 메시지**: "정말로 이 태스크를 삭제하시겠습니까?"
- **태스크 정보**: 삭제될 태스크명 강조 표시

#### 5-4. 팝업 버튼
- **취소 버튼** (회색): 팝업 닫기, 삭제 취소
- **삭제 버튼** (빨간색): 태스크 삭제 실행

---

## 태스크 상세 페이지 {#PAGE-TASK-002}
> 특정 태스크의 자세한 정보를 보여주는 화면

### 화면 구성 개요
선택한 태스크의 모든 정보와 관련된 하위 태스크, 의존성 관계를 상세히 보여주는 화면입니다.

### 1. 페이지 헤더
- **페이지 제목**: 해당 태스크의 이름
- **아이콘**: 태스크 아이콘
- **경로 표시**: 홈 > 프로젝트 관리 > [프로젝트명] > 태스크 > [태스크명]

### 2. 태스크 기본 정보 섹션

#### 2-1. 좌측 정보 영역
- **태스크명**: 큰 굵은 글씨로 표시
- **상태 배지**: 현재 진행 상태 (색상으로 구분)
- **태스크 설명**: 여러 줄 텍스트로 표시 (없으면 "설명이 없습니다")
- **WBS 위치**: 계층 구조상의 위치 (예: "1.2.3")

#### 2-2. 우측 액션 버튼
- **수정 버튼** (연필 아이콘): 태스크 수정 페이지(`PAGE-TASK-003`)로 이동
- **하위 태스크 추가** (플러스 아이콘): 이 태스크의 하위 태스크 생성 페이지(`PAGE-TASK-003`)로 이동
- **삭제 버튼** (휴지통 아이콘): 삭제 확인 팝업 표시

### 3. 태스크 진행 정보 섹션

#### 3-1. 진행률 표시
- **큰 진행률 바**: 현재 완료 정도를 시각적으로 표시
- **진행률 숫자**: 정확한 퍼센트 수치
- **진행률 수정 기능**: 슬라이더나 입력창으로 직접 수정 가능 (향후 구현 예정)

#### 3-2. 일정 정보 카드
4개의 정보 카드가 가로로 배치:
- **시작일**: 태스크 시작 날짜
- **종료일**: 태스크 종료 날짜
- **소요 기간**: 총 작업 일수
- **남은 기간**: 현재부터 종료일까지 남은 일수

### 4. 관계 정보 섹션

#### 4-1. 상위 태스크 정보
- **표시 조건**: 이 태스크가 하위 태스크인 경우에만 표시
- **표시 내용**:
  - 상위 태스크명 (클릭 시 해당 태스크 상세로 이동)
  - 상위 태스크의 진행 상태

#### 4-2. 하위 태스크 목록
- **표시 조건**: 이 태스크에 하위 태스크가 있는 경우
- **섹션 제목**: "하위 태스크 (X개)"
- **하위 태스크가 없는 경우**: "하위 태스크가 없습니다" 메시지

##### 각 하위 태스크 카드 구성 (최대 5개 표시)
- **태스크명**: 클릭 시 해당 태스크 상세(`PAGE-TASK-002`)로 이동
- **상태 배지**: 진행 상태
- **진행률 바**: 완료 정도
- **일정**: 시작일 ~ 종료일

#### 4-3. 의존성 관계
- **선행 태스크**: 이 태스크 시작 전에 완료되어야 할 태스크들
- **후행 태스크**: 이 태스크 완료 후 시작될 수 있는 태스크들
- **표시 방식**: 각각을 카드 형태로 나열
- **의존성 없는 경우**: "의존성이 설정되지 않았습니다" 메시지

### 5. 태스크 히스토리 섹션 (향후 구현)
- **진행률 변경 기록**: 언제 얼마나 진행률이 변경되었는지
- **상태 변경 기록**: 상태 변화 이력
- **담당자 변경**: 담당자가 바뀐 기록 (사용자 관리 기능 구현 후)

### 6. 네비게이션 버튼
페이지 하단에 배치된 이동 버튼들:
- **태스크 목록으로**: 해당 프로젝트의 태스크 목록(`PAGE-TASK-001`)으로 이동
- **프로젝트로 돌아가기**: 해당 프로젝트 상세 페이지(`PAGE-PROJECT-003`)로 이동
- **간트차트에서 보기**: 간트차트(`PAGE-GANTT-001`)에서 이 태스크 위치로 이동

---

## 태스크 생성/수정 폼 페이지 {#PAGE-TASK-003}
> 새 태스크를 만들거나 기존 태스크를 수정하는 화면

### 화면 구성 개요
사용자가 태스크 정보를 입력하거나 수정할 수 있는 폼 화면입니다. 프로젝트 내에서 WBS 계층 구조를 고려하여 태스크를 생성하고 관리합니다.

### 1. 페이지 헤더

#### 1-1. 생성 모드
- **페이지 제목**: "새 태스크 추가"
- **아이콘**: 플러스 아이콘
- **경로 표시**: 홈 > 프로젝트 관리 > [프로젝트명] > 태스크 > 새 태스크

#### 1-2. 수정 모드
- **페이지 제목**: "태스크 수정"
- **아이콘**: 연필 아이콘
- **경로 표시**: 홈 > 프로젝트 관리 > [프로젝트명] > [태스크명] > 수정

### 2. 프로젝트 컨텍스트 정보
폼 상단에 현재 프로젝트 정보를 간략히 표시:
- **프로젝트명**: 어느 프로젝트에 태스크를 추가하는지 명시
- **프로젝트 기간**: 태스크 일정 설정 시 참고할 수 있도록 표시

### 3. 입력 폼 섹션

#### 3-1. 태스크명 입력
- **라벨**: "태스크명" (필수 입력 표시)
- **입력 타입**: 텍스트 입력창
- **최대 글자수**: 200자
- **플레이스홀더**: "태스크 이름을 입력하세요"
- **유효성 검사**: 빈 값 불가, 글자수 초과 경고

#### 3-2. 태스크 설명 입력
- **라벨**: "태스크 설명" (선택 입력)
- **입력 타입**: 여러 줄 텍스트 영역
- **높이**: 3-4줄 정도
- **플레이스홀더**: "태스크에 대한 설명을 입력하세요 (선택사항)"

#### 3-3. 상위 태스크 선택
- **라벨**: "상위 태스크" (선택 입력)
- **입력 타입**: 드롭다운 선택
- **기본 옵션**: "없음 (최상위 태스크)"
- **선택 가능한 태스크**: 현재 프로젝트의 다른 태스크들 (순환 참조 방지)
- **표시 형식**: WBS 계층 구조로 들여쓰기하여 표시

#### 3-4. 시작일 입력
- **라벨**: "시작일" (필수 입력 표시)
- **입력 타입**: 날짜 선택기
- **기본값**: 프로젝트 시작일 또는 상위 태스크 시작일
- **제약 조건**: 프로젝트 기간 내, 상위 태스크 기간 내

#### 3-5. 종료일 입력
- **라벨**: "종료일" (필수 입력 표시)
- **입력 타입**: 날짜 선택기
- **제약 조건**: 시작일보다 늦어야 함, 프로젝트 종료일 이전

#### 3-6. 진행률 입력
- **라벨**: "초기 진행률" (선택 입력)
- **입력 타입**: 숫자 입력 (0-100)
- **기본값**: 0%
- **표시**: 슬라이더와 숫자 입력창 병행 제공

#### 3-7. 태스크 상태 선택
- **라벨**: "태스크 상태" (필수 입력 표시)
- **입력 타입**: 드롭다운 선택
- **선택 옵션**:
  - "시작 전" (기본값)
  - "진행 중"
  - "완료"
  - "보류"
  - "취소"

### 4. 자동 계산 및 미리보기

#### 4-1. 기간 계산
- **표시 위치**: 종료일 입력 아래
- **표시 형식**: "작업 기간: X일"
- **계산 방식**: 종료일 - 시작일 + 1일

#### 4-2. WBS 번호 미리보기
- **표시 조건**: 상위 태스크를 선택한 경우
- **표시 형식**: "WBS 번호: 1.2.3" (예시)
- **설명**: 생성될 태스크의 계층상 위치

#### 4-3. 일정 충돌 경고
시작일/종료일 입력 시 다음 조건들을 실시간 검사:
- 프로젝트 기간을 벗어나는 경우
- 상위 태스크 기간을 벗어나는 경우
- 선행 태스크와의 논리적 충돌

### 5. 의존성 설정 섹션 (향후 구현)

#### 5-1. 선행 태스크 설정
- **라벨**: "선행 태스크" (선택 입력)
- **설명**: "이 태스크 시작 전에 완료되어야 할 태스크"
- **입력 방식**: 멀티 선택 드롭다운
- **제약**: 순환 의존성 방지 로직

#### 5-2. 의존성 타입 선택
각 선행 태스크에 대해:
- **FS (Finish-to-Start)**: 선행 태스크 완료 후 시작
- **SS (Start-to-Start)**: 선행 태스크 시작과 동시에 시작
- **FF (Finish-to-Finish)**: 선행 태스크 완료와 동시에 완료
- **SF (Start-to-Finish)**: 선행 태스크 시작 후 완료

### 6. 폼 하단 버튼

#### 6-1. 생성 모드 버튼
- **저장 버튼** (파란색): 입력한 정보로 새 태스크 생성
- **저장 후 계속 추가** (초록색): 저장 후 동일한 폼에서 다음 태스크 추가
- **취소 버튼** (회색): 입력 내용 취소하고 태스크 목록(`PAGE-TASK-001`)으로 이동

#### 6-2. 수정 모드 버튼
- **수정 완료** (파란색): 변경한 정보로 태스크 업데이트
- **취소** (회색): 변경 내용 취소하고 해당 태스크 상세 페이지(`PAGE-TASK-002`)로 이동

### 7. 유효성 검사 및 오류 표시

#### 7-1. 실시간 유효성 검사
- **태스크명**: 입력과 동시에 글자수 및 중복 체크
- **날짜**: 논리적 오류 및 제약 조건 체크
- **진행률**: 0-100 범위 체크
- **계층 관계**: 순환 참조 방지

#### 7-2. 오류 메시지 표시
- **표시 위치**: 해당 입력 요소 바로 아래
- **표시 스타일**: 빨간색 작은 글씨
- **메시지 예시**:
  - "태스크명을 입력해주세요"
  - "시작일이 프로젝트 기간을 벗어납니다"
  - "상위 태스크의 기간 내에 설정해주세요"
  - "순환 의존성이 발생합니다"

#### 7-3. 경고 메시지
오류는 아니지만 주의가 필요한 상황:
- **노란색 배경**: 주의 메시지
- **예시**: "주말이 포함된 일정입니다", "다른 태스크와 기간이 겹칩니다"

---

## 화면 간 이동 흐름

### 주요 이동 경로
1. **프로젝트 상세 → 태스크 목록**: "태스크 보기" 버튼
2. **태스크 목록 → 태스크 상세**: 목록에서 "상세" 버튼 클릭
3. **태스크 상세 → 태스크 수정**: 상세 페이지에서 "수정" 버튼 클릭
4. **태스크 목록 → 새 태스크**: "새 태스크 추가" 버튼 클릭
5. **태스크 상세 → 하위 태스크 생성**: "하위 태스크 추가" 버튼 클릭

### 저장 후 이동 규칙
- **새 태스크 생성 완료**: 생성된 태스크의 상세 페이지(`PAGE-TASK-002`)로 이동
- **태스크 수정 완료**: 해당 태스크의 상세 페이지(`PAGE-TASK-002`)로 이동
- **태스크 삭제 완료**: 해당 프로젝트의 태스크 목록(`PAGE-TASK-001`)으로 이동
- **"저장 후 계속 추가" 선택**: 성공 메시지 표시 후 빈 폼으로 초기화

### 취소 시 이동 규칙
- **새 태스크 생성 취소**: 해당 프로젝트의 태스크 목록(`PAGE-TASK-001`)으로 이동
- **태스크 수정 취소**: 해당 태스크의 상세 페이지(`PAGE-TASK-002`)로 이동

### WBS 계층 네비게이션
- **상위 태스크로 이동**: 태스크 상세에서 상위 태스크 클릭
- **하위 태스크로 이동**: 태스크 상세에서 하위 태스크 카드 클릭
- **같은 레벨 태스크**: 태스크 목록에서 계층별로 그룹화하여 표시